Quiero que cuando un usuario tenga asignaciones que se pueda subir archivos, por que actulamente en vez de archivos solo se pone link, pero requieren que se suba archivos reales por favor, que acepte tanto word o pdf, aparte que tenga un limite de 50MB supongo para empezar y que cuando el usuario aún tenga asignaciones pendientes entonces que si pueda subir archivos, osea que los pueda editar me entiendes? Pero que se guarde las modificaciones en la base de datos, por si sube muchos archivos que se guarde, por ejemplo: el 21-06-2025 subio tal archivo, el 24-06-2025 subio otro archivo pero en la base de datos y que en la vista se muestre el archivo actualizado. y que cuando pase la fecha de pendiente que ya no se pueda subir otro archivo. Dame el codigo completo de donde sea necesario por favor para ponerlo en esos archivos. Además que los archivos se guarden en la carpeta /src/app/(app) y que se cree aparte una carpeta de cada alumno que sube un archivo. Ejm: Si Juan Perez sube un archivo entonces sera ./src/app/(app)/Juan Perez/archivo.pdf y asi para todos los usuarios.
Ya tengo todos los archivos actualizados como es el:
src\lib\data.ts - src\lib\types.ts - src\lib\fileUtils.ts
También he creado los archivos
src\app\api\files\[..path]\route.ts - src\app\api\upload\route.ts
Ahora solo me falta previsualizar los archivos que he subido y que si la fecha de vencimiento aún no llega entonces que el usuario pueda editar el archivo que a subido por favor.
Por favor ayúdame para cumplir con los requerimientos de mi proyecto.
+---ai
|       dev.ts
|       genkit.ts
|
+---app
|   |   favicon.ico
|   |   globals.css
|   |   layout.tsx
|   |   page.tsx
|   |
|   +---(app)
|   |   |   layout.tsx
|   |   |
|   |   +---admin
|   |   |   +---grading
|   |   |   |       page.tsx
|   |   |   |
|   |   |   \---users
|   |   |       |   page.tsx
|   |   |       |
|   |   |       \---manage
|   |   |           +---create
|   |   |           |       page.tsx
|   |   |           |
|   |   |           \---[userId]
|   |   |                   page.tsx
|   |   |
|   |   +---assign-indicators
|   |   |       page.tsx
|   |   |
|   |   +---dashboard
|   |   |       page.tsx
|   |   |
|   |   +---my-assignments
|   |   |       page.tsx
|   |   |
|   |   \---profile
|   |           page.tsx
|   |
|   +---(auth)
|   |   \---login
|   |           page.tsx
|   |
|   \---api
|       \---assigned-indicators
|           \---[id]
|                   route.ts
|       \---files
|           \---[...path]
|               \---route.ts
|       \---upload
|           \---route.ts
|
+---components
|   +---admin
|   |   |   UserManagementTable.tsx
|   |   |
|   |   \---grading
|   |           AdminGradingTable.tsx
|   |           GradingAssignmentAccordionItem.tsx
|   |
|   +---assign-indicators
|   |       AssignIndicatorForm.tsx
|   |
|   +---auth
|   |       LoginForm.tsx
|   |
|   +---dashboard
|   |       IndicatorTable.tsx
|   |
|   +---layout
|   |       AppHeader.tsx
|   |       AppSidebar.tsx
|   |       Logo.tsx
|   |       ProgressBarClient.tsx
|   |
|   +---my-assignments
|   |       AssignmentCard.tsx
|   |       AssignmentDetailsModal.tsx
|   |       VerificationMethodItem.tsx
|   |
|   \---ui
|           accordion.tsx
|           alert-dialog.tsx
|           alert.tsx
|           avatar.tsx
|           badge.tsx
|           button.tsx
|           calendar.tsx
|           card.tsx
|           chart.tsx
|           checkbox.tsx
|           dialog.tsx
|           dropdown-menu.tsx
|           form.tsx
|           input.tsx
|           label.tsx
|           menubar.tsx
|           popover.tsx
|           progress.tsx
|           radio-group.tsx
|           scroll-area.tsx
|           select.tsx
|           separator.tsx
|           sheet.tsx
|           sidebar.tsx
|           skeleton.tsx
|           slider.tsx
|           switch.tsx
|           table.tsx
|           tabs.tsx
|           textarea.tsx
|           toast.tsx
|           toaster.tsx
|           tooltip.tsx
|
+---config
|       site.ts
|
+---hooks
|       use-mobile.tsx
|       use-toast.ts
|       useAuth.ts
|
\---lib
        data.ts
        firebase-functions.ts
        firebase.ts
        types.ts
        utils.ts